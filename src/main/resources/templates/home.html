<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">


<head>
    <title>Home</title>
    <link th:href="@{/webjars/bootstrap/4.1.0/css/bootstrap.css}" rel="stylesheet">
    <link rel="stylesheet" href="/css/home-style.css"/>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet">
       <script src="/vendor/highcharts/code/highcharts.js"> </script>
   <script src="/vendor/highcharts/code/modules/exporting.js"></script> 
</head>
<body>
  
    <nav class="navbar navbar-light bg-white navbar-expand-lg fixed-top">
      
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-nav-bar" 
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
           <span class="navbar-toggler-icon"></span>
      </button>
      
      <a class="navbar-brand" href="#"><img src="/img/infinity.jpg" alt="Infinity" height="42" width="100"></a>
      
    	  <div class="collapse navbar-collapse" id="main-nav-bar">
    	    <ul class="navbar-nav mr-auto">
	    	    <li class="nav-item">
	    	    
	          <label for="sel1" > Survey:</label>
			  <select class="selectpicker show-tick" id="sel1" th:each="s, istat :${surveys}">
			    <option th:text="|${s.participantSurveyDate} - ${s.surveyName}|" th:selected="${s.surveyId} eq ${surveyId}">No Survey</option>
			    <!-- 
			    <option>12//8/16 - Leadership Circle Profile</option>
			    <option>12//4/16 - LSI</option>
			     -->
		      </select>
	    	    </li>
    	    </ul>
    	    <ul class="navbar-nav ml-auto">
    	      <li class="nav-item dropdown">
    	
    	          <a class="nav-link dropdown-toggle" href="#survey" id="navbarDropdown" 
    	              role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                 Survey
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="#">Practices</a>
              <a class="dropdown-item" href="#">Business Objectives</a>
              <a class="dropdown-item" href="#">Reflections</a>
              <div class="dropdown-divider"></div>
               <a class="dropdown-item" href="#">Search Participant</a>
              </div>
              <!-- 
                <a class="dropdown-item" href="#">25/5/18 - Leadership Circle Profile</a>
                <a class="dropdown-item" href="#">12//8/16 - Leadership Circle Profile</a>
                <a class="dropdown-item" href="#">12//4/16 - LSI</a>
                
                <div class="dropdown-divider"></div>
              </div>
               -->
    	      </li>
    	      <li class="nav-item"><a class="nav-link" href="#survey">Reflection</a></li>
    	      <li class="nav-item"><a class="nav-link" href="#survey">Cohort</a></li>
    	      <li class="nav-item"><a class="nav-link" href="#survey">Administration </a></li>
    	    </ul>
    	  </div>  	  
    </nav>
    <nav aria-label="breadcrumb">
	 
	    <ol class="breadcrumb">
		    <li class="breadcrumb-item"><a href="#" >Leadership Circle Profile</a></li>
 	        <li class="breadcrumb-item"><a href="#">Complying</a></li>
		    <li class="breadcrumb-item active" aria-current="page">Data</li>
		</ol>
       
     <!--   
     <ol class="breadcrumb" th:each="r, istat :${BREADCRUMB}">
	    <li class="breadcrumb-item"><a href="#" th:text="${r.dimensionName}">Leadership Circle Profile</a></li>
	 </ol>
	  -->
     
  
   </nav>
    <!--  header or body -->
   <section id="header">
     <div class="container">
       <div class="row">
          <div id="salesByRegion" class="col-md-6 header-left">
          
          </div>
          <div class="col-md-6 header-right">
             <!-- 
          <form>
              <fieldset class="form-group">
                  <table class="table table-sm">
                    <tr><input type="radio">eee</input></tr>
                    <tr><input type="radio">xxx</input></tr>
                  </table>
                   <label class="sr-only">Name</label>
                   <input type="text" class="form-control" placeholder="Your name...">
              </fieldset>
              <fieldset class="form-group">
               ...
               </fieldset>
              <button type="submit" class="btn btn-outline-info btn-block">sign up</button>
           </form>
           -->
                      <table class="table table-bordered table-sm">
                      
                              <thead>
                                <tr>
                                  <th scope="col">Dimension</th>
                                  <th scope="col">Business Objectives</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td rowspan="2">Complying</td>
                                  <td>Operational efficiencies in payroll system</td>
                                </tr>
                                <tr>
                                 
                                   <td>Succession planning - talent identified and development journey mapped out</td>
                                </tr>
                                <!--  
                                <tr>
                                  <th scope="row">2</th>
                                  <td>Jacob</td>
                                </tr>
                                <tr>
                                  <th scope="row">3</th>
                                  <td>Larry</td>
                                  
                                </tr>
                                -->
                              </tbody>
                            </table>
              
          </div>
       </div>
    		
  
     </div>
   </section>
    
   <script type="text/javascript" th:src="@{/webjars/jquery/3.3.1/jquery.min.js}"></script>
   <script type="text/javascript" th:src="@{/webjars/bootstrap/4.1.0/js/bootstrap.min.js}"></script>
   <script th:inline="javascript">
                /*<![CDATA[*/
				$(function () { 
					drawScoreChart();
                });
                
                function showAlert(value) {
                	  alert(value);
                };
                
                function clickCat(value, dimCats, dimIds) {
                	  var i = dimCats.indexOf(value);
                	  var url =window.location + "/" + dimIds[i];
                	  alert(url);
                	  //window.location = url;
                };
               
                function drillDownSelf(value, dimCats, dimIds) {
              	  var i = dimCats.indexOf(value);
            	      var url =window.location + "/" + dimIds[i];
            	      alert(url);
            	      window.location = url;
                 };
                
				function drawScoreChart() {
					
				    var dimIds =  /*[[${CAT_DIM_ID}]]*/;
				    var dimCats = /*[[${CATEGORY}]]*/;
				    
	                var salesByRegionChart = Highcharts.chart('salesByRegion', {
	                    chart: {
	                        type: 'bar',
	                        height: 400
	                       
	                    },
	                    title: {
	                        text: /*[[${currentSurvey.surveyName}]]*/ 'No Survey Result'
	                    },
	                    xAxis: {
	                    	categories: dimCats,
	                    	//labels: {
	                    	//	formatter: function() {
	                    //            return '<a href="javascript:showAlert(dimIds[this.value])">'+
	                    //                this.value +'</a>';
	                    //       }
	                      //formatter: function() {
	                      //        return '<a href="'+ categoryLinks[this.value] +'">'+  this.value +'</a>';
	                       //   }
	                     //  },
					        title: {
					            text: null
					        }
	                    },
	                    yAxis: {
					        min: 0,
					        max: 100,
					        title: {
					            text: 'Score (%)',
					            align: 'high'
					        },
					        labels: {
					            overflow: 'justify',
					            style: {
					            	    cursor: 'pointer'
					            }
					        }
					    },
					    tooltip: {
					        valueSuffix: ' %'
					    },
					    plotOptions: {
					        bar: {
					            dataLabels: {
					                enabled: true
					            }
					        }
					    },
					    legend: {
					        layout: 'vertical',
					        align: 'right',
					        verticalAlign: 'top',
					        x: 10,
					        y: 0,
					        floating: true,
					        borderWidth: 1,
					        backgroundColor: ((Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'),
					        shadow: true
					    },
					  
					    credits: {
					        enabled: false
					    },
					    exporting: {
					        enabled: false
					    },
					    series: [
					    	{
					        name: 'Self',
					        data: /*[[${SELF_SCORE }]]*/ [],
					        point: {
					            events: {
					                click: function () {
					                	   drillDownSelf (this.category, dimCats, dimIds);
					            
					                }
					            }
					        }
					    },
					    {
					        name: 'Evaluators',
					        data: /*[[${EVALUATOR_SCORE }]]*/,
					        point: {
					            events: {
					                click: function () {
					                	drillDownSelf(this.category, dimCats, dimIds);
					                }
					            }
					        }
					    }
					  
					    ]
					});
	                
	                $('.highcharts-axis-labels text, .highcharts-axis-labels span').click(function () {
	                   	clickCat(this.textContent, dimCats, dimIds );
	                });
	            }
				/*]]>*/
				</script>
</body>
</html>
